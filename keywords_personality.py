import streamlit as st

st.set_page_config(page_title="æ€§æ ¼å…³é”®è¯åŒ¹é…å™¨", page_icon="ğŸ§ ")

st.title("ğŸ§  æ˜Ÿåº§å…³é”®è¯åŒ¹é…å°åŠ©æ‰‹")

st.markdown("ä»ä¸‹æ–¹é€‰æ‹©ç¬¦åˆä½ æ€§æ ¼çš„è¯ï¼Œæˆ‘æ¥å¸®ä½ â€œçŒœâ€ä½ å¯èƒ½å±äºå“ªä¸ªæ˜Ÿåº§~")

# æ€§æ ¼å…³é”®è¯åº“
traits = [
    "å†…å‘", "å¤–å‘", "æ„Ÿæ€§", "ç†æ€§", "çˆ±è‡ªç”±", "ç²˜äºº", "çƒ­æƒ…", "æ•æ„Ÿ",
    "å¹½é»˜", "å†·é™", "ç¤¾æ", "æµªæ¼«", "å›ºæ‰§", "å¼€æœ—", "ç»†è…»", "ç¥ç§˜"
]

# æ˜Ÿåº§æ€§æ ¼æ˜ å°„è¡¨ï¼ˆç®€åŒ–ç¤ºä¾‹ï¼‰
zodiac_traits = {
    "ç™½ç¾Šåº§": ["çƒ­æƒ…", "å¤–å‘", "å†²åŠ¨", "å¹½é»˜"],
    "é‡‘ç‰›åº§": ["ç†æ€§", "å›ºæ‰§", "å†·é™", "ç»†è…»"],
    "åŒå­åº§": ["å¹½é»˜", "å¤–å‘", "å¼€æœ—", "çˆ±è‡ªç”±"],
    "å·¨èŸ¹åº§": ["æ•æ„Ÿ", "ç²˜äºº", "å†…å‘", "æµªæ¼«"],
    "ç‹®å­åº§": ["å¤–å‘", "çƒ­æƒ…", "è‡ªä¿¡", "å›ºæ‰§"],
    "å¤„å¥³åº§": ["ç†æ€§", "ç»†è…»", "å†·é™", "ç¥ç§˜"],
    "å¤©ç§¤åº§": ["å¼€æœ—", "ä¼˜é›…", "çˆ±è‡ªç”±", "ç†æ€§"],
    "å¤©èåº§": ["ç¥ç§˜", "æ•æ„Ÿ", "å†·é™", "æ„Ÿæ€§"],
    "å°„æ‰‹åº§": ["çˆ±è‡ªç”±", "å¤–å‘", "å¹½é»˜", "çƒ­æƒ…"],
    "æ‘©ç¾¯åº§": ["å†·é™", "ç†æ€§", "å›ºæ‰§", "å†…å‘"],
    "æ°´ç“¶åº§": ["çˆ±è‡ªç”±", "ç¥ç§˜", "ç†æ€§", "å¹½é»˜"],
    "åŒé±¼åº§": ["æ„Ÿæ€§", "æµªæ¼«", "ç²˜äºº", "å†…å‘"]
}

# å¤šé€‰æ€§æ ¼
selected_traits = st.multiselect("ğŸ§© è¯·é€‰æ‹©ä½ çš„æ€§æ ¼å…³é”®è¯", traits)

if st.button("ğŸ” å¼€å§‹åŒ¹é…"):
    if not selected_traits:
        st.warning("è¯·å…ˆé€‰æ‹©è‡³å°‘ä¸€ä¸ªå…³é”®è¯å™¢ï½")
    else:
        match_scores = {}
        for zodiac, t_list in zodiac_traits.items():
            score = len(set(selected_traits) & set(t_list))
            if score > 0:
                match_scores[zodiac] = score

        if match_scores:
            sorted_matches = sorted(match_scores.items(), key=lambda x: x[1], reverse=True)
            top_matches = [f"{z}ï¼ˆåŒ¹é…åº¦ï¼š{s}ï¼‰" for z, s in sorted_matches[:3]]
            st.success("ä½ å¯èƒ½æ˜¯è¿™äº›æ˜Ÿåº§ä¹‹ä¸€ï¼š")
            st.write("ã€".join(top_matches))
        else:
            st.info("æ²¡æœ‰æ˜æ˜¾çš„åŒ¹é…ç»“æœï¼Œå¯èƒ½ä½ çš„æ€§æ ¼å¤ªç‹¬ç‰¹å•¦ï¼ğŸŒŸ")

st.markdown("---")
st.caption("ğŸ”® ç»“æœä»…ä¾›å‚è€ƒï¼Œæ˜Ÿåº§åªæ˜¯æ€§æ ¼çš„ä¸€ä¸ªåˆ‡é¢ï½")
